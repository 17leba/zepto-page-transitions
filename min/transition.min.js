$(document).ready(function(){$(document.body).transition("init").show()});
(function(b){var p=0,t=!1;window.location.href.slice(0,window.location.href.lastIndexOf("/")+1);var l=null,q={},u=window.location.href,d=null,v={},r=[],s={options:function(a){l=b.extend({defaultPageTransition:"fade",domCache:!1},a)},init:function(a,e,f){t||(t=!0,b(document.body).transition("options",{}),b(window).on("hashchange",function(){var a=d&&d.element||b(document.body);if(!v[window.location.hash]){var e=window.location.hash;d&&(d.element&&d.element.is("form"))&&(e={type:d.element.attr("method")||
"get",url:window.location.hash.slice(1),data:d.element.serialize(),dataType:"html",global:!1});var c=null,f=null==d;if(f)c=(d=r.length?r.pop():null)?d.transition:l.defaultPageTransition,f=d?!d.reverse:!0;else if(d.transition)c=d.transition,r.push({href:window.location.pathname,transition:c}),f=d.reverse;else{c=d.element.attr("transition")||d.element.data("transition")||l.defaultPageTransition;if("reverse"===(d.element.attr("direction")||d.element.data("direction")))f=!0;r.push({href:window.location.pathname,
transition:c,reverse:f})}a.transition("changePage",e,c,f)}d=null}));var c=b('div[data-role="page"]',this);c.length||(this.is("div")?(this.attr("data-role","page"),this.attr("id","_trans_div"+p),c=this):(c=b('<div data-role="page" id="_trans_div'+p+'" />'),this.children().wrapAll(c)));a&&c.trigger("pageload",a);a=c.first();if(window.location.hash&&(a=b(window.location.hash),!a.length)){a=c.first();var h=a.attr("id"),g;g=(q[window.location.hash]||window.location.hash.slice(1)).replace(/[:\.\+\/]/g,
"_");a.attr("id",g);h&&(b('[data-href="#'+h+'"]',c).attr("data-href","#"+g),b('[href="#'+h+'"]',c).attr("href","#"+g))}c.addClass("ui-page");c.each(function(){b(this).attr("id")||b(this).attr("id","_trans_div"+p);q["#"+b(this).attr("id")]=u;b(this).css("zIndex",p++)});b("a[href]",c).not("[target]").not('[rel="external"]').not('[data-ajax="false"]').not("[data-href]").transition("hijackLinks");b("[data-href]",c).transition("hijackLinks");b("form").not("[target]").not('[data-ajax="false"]').transition("hijackLinks");
f||(f=document.title);c.not("[data-title]").data("title",f);if(f=a.data("title"))document.title=f;c.hide();e=(e=e?b(e):null)||a;e.addClass("ui-page-active");c.each(function(){b(this).trigger("pageinit",b(this))});return e},to:function(a,b,f){b=b||l.defaultPageTransition;f||(f=!1);d={transition:b,reverse:f};window.location.hash="#"+a},hijackLinks:function(){return this.each(function(){var a=b(this);if("back"==a.data("rel")){var e=function(a){window.history.back();a.preventDefault()};a.on("click",e);
a.on("tap",e)}else{var f=a.attr("data-href")||a.attr("href")||a.attr("action")||"#";if("#"===f.charAt(0)){if(b('a[name="'+f.slice(1)+'"]').length){v[f]=!0;return}}else f="#"+f,a.is("a")?a.attr("href",f):a.attr("action")&&a.attr("action",f),a.attr("data-href")&&a.attr("data-href",f);a.is("a")?e=function(){d={element:a}}:a.is("form")?(e=function(b){d={element:a};window.location.href=f;b.preventDefault()},a.on("submit",e)):e=function(){d={element:a};window.location.href=f};a.is("form")||(a.on("click",
e),a.on("tap",e))}})},changePage:function(a,e,f){var c={toPage:a,back:f},h=b.Event("pagebeforechange");b(this).trigger(h,c);if(!h.defaultPrevented){a=c.toPage;f=c.back;var h="string"===typeof a?a:a.url,g=null,d=b("div.ui-page-active"),m=!1;if("string"===typeof a&&"#"===a.charAt(0)){var k=b(a.replace(/[:\.\+\/]/g,"_"));k.length?(b(this).transition("perform",d,k,e,f,c),m=!0):!l.domCache&&q[a]?(g=a,a=q[a]):a=a.slice(1)}if(!m){var j={href:h,element:b(this),back:f},h=b.Event("pagebeforeload");b(this).trigger(h,
j);var n=b(this);h.defaultPrevented||(b(this).transition("load",a,j,function(a,h,k){h=b('<div data-role="page-container" />');h.html(a);b(document.body).append(h);a=b(h).transition("init",j,g,k);b(n).transition("perform",d,a,e,f,c)}),m=!0)}m||b(this).trigger("pagechangefailed",c)}},load:function(a,e,f){a="string"===typeof a?{url:a,dataType:"html",global:!1}:a;a.url||(a.url=window.location.href);a.success=function(c,h,g){e.xhr=g;e.textStatus=h;u=a.url;l.domCache||b('div[data-role="page"]').not('[data-dom-cache="true"]').addClass("transition-recyclable");
g=c.search(/<body/i);var d=c;h=c;var m;-1!=g&&(d=c.slice(0,g),g=c.indexOf(">",g),bodyEnd=c.search(/<\/body>/i),h=c.slice(g+1,bodyEnd));(g=d.match(/<title>(.+)<\/title>/im))&&(m=g[1]);if(window.location.hash){g=window.location.pathname;var k=window.location.hash.slice(1),d="",j=k.lastIndexOf("/");if(-1!=j&&(d=k.slice(0,j+1),"/"==d.charAt(0))){"/"==!g.charAt(0)&&(g="/"+g);j=k=1;do j=d.indexOf("/",j)+1,j>k&&d.slice(0,j)==g.slice(0,j)&&(k=j);while(0<j&&j==k);var n="",j=k;do j=g.indexOf("/",j+1),-1!=j&&
(n+="../");while(-1!=j);d=n+d.slice(k)}g=d;g.length&&(h=h.replace(/(\b(src|href|action))="([^"#:]+)"/gi,'$1="'+g+'$3"'),h=h.replace(/(\b(src|href|action))="(.+\/)?[^\/]+\/\.\.\//gi,'$1="$3'))}f(h,c,m)};a.error=function(c,f,d){e.xhr=c;e.textStatus=f;e.errorThrown=d;b(this).trigger("pageloadfailed",e);b(this).trigger("pagechangefailed",{toPage:a.url})};b.ajax(a)},perform:function(a,e,f,c,d){d.from=a;d.to=e;a.trigger("pagebeforehide",a);e.trigger("pagebeforeshow",e);window.setTimeout(function(){a.addClass(f+
" out");a.removeClass("ui-page-active");e.show();e.addClass(f+" in");e.addClass("ui-page-active");c&&(a.addClass("reverse"),e.addClass("reverse"))},1);window.setTimeout(function(){a.removeClass(f+" out");e.removeClass(f+" in");a.removeClass("reverse");e.removeClass("reverse");var c=e.data("title");c&&(document.title=c);a.trigger("pagehide",a);e.trigger("pageshow",e);b(document).trigger("pagechange",d);b('div[data-role="page"]').hide();e.show();l.domCache||(b("div.transition-recyclable").each(function(){var a=
b.Event("pageremove");b(this).trigger(a,b(this));a.defaultPrevented||b(this).remove()}),b('div[data-role="page-container"]').not(function(){return b(this).children().length}).remove())},707)}};b.fn.transition=function(a){if(s[a])return s[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return s.to.apply(this,arguments);throw"Method "+a+" does not exist";}})(Zepto);